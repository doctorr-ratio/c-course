# Занятие 1

#### 30.10.2020

## Типы данных, память и стандартный ввод `scanf()`

#### Структура простой программы на C

Рассмотрим то, как устроена простая программа на языке C:
```
$директивы препроцессора$

int main(void)
{
  $выражения$
}
```
Заметьте, что фигурные скобки показывают, где начинается и кончается функция `main()`. В таком случае после закрывающей скобки ставить точку с запятой не нужно.

Тут есть 3 важных части: 
+ **директивы препроцессора**
Перед компиляцией программа на C обрабатывается препроцессором, для которого существуют специальные комманды, которые называются директивами. В нашей первой программе она была записана на первой строке: `#include <stdio.h>`. Эта команда говорит, что перед текстом нашей программы будет вставлена информация из `<stdio.h>`, который содержит информацию о стандартной библиотеке ввода-вывода в C. Таким способом можно подключать и другие библиотеки для необходимого нам функционала языка, например, математическую библиотеку `<math.h>`. Директивы начинаются со знака `#`и по умолчанию занимают одну строку. Точку с запятой после директив ставить не нужно.

+ **функция `main()`**
Эта функция обозначает основную программу, которая будет выполняться компьютером. Важно, чтобы она присутствовала и называлась именно `main`, иначе программа не будет скомпилирована. Перед функцией стоит слово `int`, оно обозначает тип данных, который вернет операционной системе функция при работе. Если это слово `int`, то стоит вернуть целое значение, указав в конце выполнения `return 0;`.

+ **выражения**
Выражение -- это команда, которая будет исполнена при выполнении программы. Выражения могут выглядеть по-разному. Признак конца выражения -- `;`, точка с запятой. Писать новое выражение на новой строчке необязательно, главное поставить точку с запятой. примеры выражений: `int a=0;`, `printf("hello");`, `return 0;`.

Кроме того, в программах будут часто встречаться комментарии, то есть текст, который игнорируется компилятором:
```
// однострочный комментарий
//или без пробела

/* многострочный комментарий
все еще много строчный комментарий
здесь он, пожалуй, завершится*/
```

Однако, стоит помнить, что закрывающий тег обязателен:
```
printf("Мои ");    /* забыл закрыть многострочный комментарий...
printf("кошки ");
printf("любят ");  /* поэтому закончится он здесь */
printf("овощи");
```
Поэтому эта часть программы выведет `Мои овощи`, а не `Мои кошки любят овощи`.

#### Типы данных в C, объявление переменных, присвоение, функция `sizeof()`

Большинство программ процессе работы производят с данными какие-нибудь вычисления прежде чем вывести результат, следовательно, им нужен способ хранить эти данные на время выполнения программы. В C, как и в большинстве языков программирования, такие места для хранения данных называются **переменными**.

Каждая переменная должна принадлежать к одному из **типов**, который указывает на то, какого рода данные в ней хранятся. Тип переменной в C не может быть изменен при выполнении программы. Базовые типы в C описываются с помощью арифметических спецификаторов: `char`, `int` -- целые типы; `float`, `double` -- типы с плавающей запятой. Кроме них могут использоваться дополнительные, или опциональные спецификаторы: `signed`, `unsigned` -- влияет на знаковость/беззнаковость; `short`, `long` -- указывает на диапазон, а в случае числе с плавающей запятой еще и на точность. Если опциональный спецификатор записан без арифметического (просто `signed`, например), то по умолчанию вместо арифметического типа будет использован `int`.

Переменные должны быть **объявлены**, чтобы компилятор мог знать, сколько памяти выделяется под переменную. Например, так объявляется целая переменная `number` и переменная с плавающей запятой `temperature`:
```
int number;
float temperature;
```

Чтобы в переменной хранилось какое-то значение, его необходимо **присвоить**. Это можно сделать с помощью опертора присвоения `=`. Например, присвоим переменной `height` значение `98`:
```
height = 98;
```

Присвоение значения переменной вместе с объявлением называется **инициализацией**.
```
int days = 9;
```
Число 9 в этом случае называется **инициализатором** переменной `days`. Можно инициализировать несколько переменных в одном объявлении:
```
int day = 12, month = 7, year = 1967;
```
Однако у каждой переменной должен быть свой инициализатор. В примере ниже значение 13 будет присвоено только переменной `cats`:
```
int cows, dogs, cats = 13; 
```

Кроме базовых типов переменных в C есть еще и **логический тип** `_Bool`. Его отличие от Базовых типов в том, что если переменной такого типа присваивается любое ненулевое значение, переменная примет значение `1`, если же присвоить ей значение `0`, то `0`.
```
_Bool is_ok, is_bad;
is_ok = 42; // присвоено значение "истина", 1
is_bad = 0; // присвоено значение "ложь", 0
```

Основные арифметические операторы в C такие: `+`, `-`, `*` -- сложение, вычитание, умножение соответственно; `/` -- деление, целочисленное, если оба операнда целочисленные (любые `char` или `int`); `%` -- остаток от целочисленного деления, операнды только целочисленные.

Для того, чтобы узнать, сколько байт занимает переменная какого-либо типа, используется функция `sizeof()`. Аргументом может быть как имя типа, например, `sizeof(unsigned long int);`, так и имя переменной, например, `sizeof(day);`. Возвращает функция целое число -- количество байт, которое занимает в памяти ее аргумент.

#### Стандартный ввод-вывод, функции `printf()` и `scanf()`
Для общения программы с внешним миром необходимо обеспечить возможность ввода-вывода информации, для этого директивой препроцессора подключается бибилиотека стандартного ввода-вывода:
```
#include <stdio.h>
```
После этого можно использовать функции `printf()` и `scanf()` для вывода и ввода из командной строки соответственно. Для того, чтобы вывести значение переменной используется функция `printf()`. Первый ее аргумент -- это строка с форматом вывода, она определяет, как будут отображены переменные. Второй аргумент -- непосредственно сами переменные (или выражения). Например: `printf("height: %d\n", height);` выведет `height: $значение переменной height$` и переведет курсор на следующую строку. В этом выражении `%d` -- спецификатор типа, он указывает на то, что программе нужно вывести целое число в десятичном представлении (в десятичной системе счисления); `\n` -- спецсимвол перевода курсора на новую строку. Список возможных спецификаторов ввода-вывода есть в приведенных ниже мануалах, но кроме этого может быть и просто нагуглен. Основные из них: `%d`, `%f`, `%c`. Если между знаком процента `%` и буквой в спецификаторе типа с плавающей запятой указать `.2`, вот так `%.2f`, то после запятой будет выведено 2 цифры вместо 6 по умолчанию.

[один из вариантов мануала к `printf()`](http://www.c-cpp.ru/content/printf)

Для ввода значений используется функция `scanf()`. Она также принимает два аргумента, строку форматирования и *ссылку* на переменную или переменные (ссылку разберем на следующем занятии), которая записывается как знак `&` перед именем переменной, например, так: `&day` -- ссылка на переменную `day`.

[один из вариантов мануала к `scanf()`](http://www.c-cpp.ru/content/scanf)


## Домашнее задание

#### 1
Создать программу, в которой:
+ объявить переменную типа `double`, инициализировать ее значением числа пи с точностью до 8 знака;
+ вывести с 2, 4, и 8 знаками после запятой.

#### 2
Создать программу, принимающую на вход три числа, являющиеся размерами прямоугольной коробки. Вывести объем коробки.

#### 3*
+ Вывести символ % с помощью `printf()`;
+ Что вернет `sizeof("hello darkness my old friend");`?
