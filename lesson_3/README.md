# Занятие 3

#### 13.11.2020

## Условия и ветвление, массивы

### Условные (тернарные) выражения
Кроме конструкции `if(){}else{}`в C могут использоваться **тернарные выражения**. Например, следующая программа выводит, четное введенное число или нечетное:
```
#include <stdio.h>

void main() {
	int number;
	scanf("%d", &number);
	
	(number % 2) == 0 ? printf("even\n") : printf("odd\n"); // even - четное, odd - нечетное
}
```

До знака вопроса следует логическое выражение (которое может быть приведено к однобайтовым `0` или `1` с помощью неявного приведения типов), после знака вопроса следует выражение, исполняемое в случае равенства логического выражения `1`. Последний операнд (выражение, стоящее после двоеточия) исполнится, если логическое выражение (первый операнд) равно `0`.

Эту программу можно переписать и так:
```
#include <stdio.h>

void main() {
	int number;
	scanf("%d", &number);
	printf((number % 2) == 0 ? "even\n" : "odd\n"); // even - четное, odd - нечетное
}
```

Чаще всего тернарный оператор используется вместе с оператором присвоения. Например, рассмотрим задачу округления до десятков:
```
#include <stdio.h>

void main() {
	int number;
	scanf("%d", &number);
	
	rounded_number = (number % 10) < 5 ? (number / 10) * 10 : (number / 10) * 10 + 10; 
	printf("rounded_number\n");
}
```
Здесь, если последняя цифра числа меньше пяти, то происходит округление в меньшую сторону: число целочисленно делится на 10 и умножается на 10 обратно, а результат этих операций возвращается в качестве второго операнда для оператора присвоения `=`. Если же последняя цифра числа - это 5 и более, то кроме деления и умножения на 10 к итогу добавляется еще один десяток. Результат, соответственно, так же, как и в первом варианте, возвращается как второй операнд для оператора присвоения `=`, то есть `rounded_number` становится равен именно ему.

Более подробно можно прочитать тут (только раздел про тернарный оператор): [https://learnc.info/c/ternary_and_comma_operators.html](https://learnc.info/c/ternary_and_comma_operators.html)

#### Конструкция `switch()`
Если же у нас есть несколько четко определенных значений какой-либо переменной, то можно организовать ветвление программы с помощью конструкции `switch(){case:break;}`. Рассмотрим задачу, когда нам необходимо вывести запись чисел от 1 до 3 в виде строки, а если это другое число, от вывести `other`.
```
#include<stdio.h>
 
int main() {
    unsigned number;
 
    printf("Enter number ");
    scanf("%d", &number);
 
    switch (number) { // number - рассматриваемая переменная
    case 1: // так вводится "случай" - то, что будет сделано, если переменная имеет такое значение, то есть 1 в данном случае
        printf("one\n"); //  вывод числа прописью
        break; // ключевое слово, которое обозначает конец рассматриваемого случая, если его не написать, выполнятся все инструкции до первого слова break;
    case 2:
        printf("two\n");
        break;
    case 3:
        printf("three\n");
        break;
    default: // default - вариант действий, если ни один из указанных выше случаев не произошел
        printf("other\n"); // здесь нет break, так как это не сделает разницы, больше инструкций все равно нет
    }
 
    return 0;
}
```

Продробнее про `switch()`: [https://learnc.info/c/switch.html](https://learnc.info/c/switch.html)

### Массивы
В C данные одного типа при необходимости могут храниться в массивах. **Массив** -- это некоторое количество однотипных данных, хранящееся в памяти и адресуемое **индексами**. Это позволяет нам объявлять всего одну переменную-массив вместо множества отдельных переменных.

Пример:
```
#include <stdio.h>
 
void main() {
 
    int a[100]; // объявление массива из 100 числел типа int
 
    a[0] = 10; // инициализация 0-го элемента массива
    a[10] = 333; // инициализация 10-го элемента массива
    a[12] = 234; // инициализация 12-го элемента массива
    
    printf("%d %d %d", a[0], a[10], a[12]); \\ выведет 10 333 234
}
```

Кроме того, массив можно инициализировать при объявлении:
```
#include <stdio.h>
 
void main() {
    int a[10] = {1, 2, 5, 3, 9, 6, 7, 7, 2, 4};
}
```
Здесь объявлен массив из 10 целых чисел. Он инициализирован значениями `{1, 2, 5, 3, 9, 6, 7, 7, 2, 4}`. Стоит заметить, что при такой инициализации количество элементов инициализатора должно совпадать с размером массива.

Обращаться к элементу массива можно и через переменную:
```
#include <stdio.h>
 
void main() {
    int a[10] = {1, 2, 5, 3, 9, 6, 7, 7, 2, 4};
	int num;
	scanf("%d", &num);
	if (num >=0 && num < 10) {
		printf("%d", a[num]);
	} else {
		printf("Wrong index!\n");
	}
}
```
Эта программа инициализирует массив из 10 элементов типа `int`, запрашивает у пользователя индекс (`num`), проверяет, не выходит ли он за границы массива, и если нет, то выводит `num`-ый элемент массива (нумерация начинается, конечно же, с нулевого, а не с первого).

Подробнее про массивы тут, например: [https://learnc.info/c/arrays.html](https://learnc.info/c/arrays.html)


## Домашнее задание

#### 0
Напишите программу, которая запрашивает у пользователя "пароль" - целое число, после чего просит его ввести и говорит, совпал ли ввод с ранее заданным паролем. Не пользуйтесь `if(){}else{}`.

#### 1
Напишите программу, принимающую на вход целое число `n`, причем если оно отрицательно или равно нулю, то программа требует повторного ввода до тех пор, пока пользователь не введет положительное число. Вычислить и вывести сумму квадратов первых `n` натуральных чисел.

#### 2
Объявите массив типа `int` размера 16. Пользователь последовательно вводит значения каждого элемента, допустимый диапазон от 0 до 15, если число в него не входит, писать 0 и выводить предупреждение для пользователя, после чего переходить к следующему элементу массива. Вывесть аналог "елочки" из предыдущего дз, только теперь длина i-ой "ветки" - значение i-го элемента массива.

#### 3
Объявите массив типа `int` размера 8. Пользователь последовательно вводит значения каждого элемента. Отсортируйте массив по возрастанию и выведите его.

#### 4
Напишите программу, которая по номеру месяца выводит его название. Предусмотрите возможность некорректных входных данных (например, 13 или 'a').

#### 5 (задача из реальной жизни)
Пользователь вводит количество апельсинов. Выведите число апельсинов в правильном падеже: 12 апельсинов, 1 апельсин, 23 апельсина и т.д.
